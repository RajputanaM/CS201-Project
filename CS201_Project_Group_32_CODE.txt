#include<stdio.h>
#include<stdlib.h>
#include<string.h>

int n;

struct node{
    int code;
    char ch[20];
    struct node *next;
};

struct list{
    int d;
    int vertex;
    struct list *pi;
    struct list *next;
};

struct graph{
    struct list *adj;
};

struct graph *G=NULL;

struct node *start=NULL;

struct distance{
    char ch1[20];
    char ch2[20];
    int d;
    struct distance *next;
};

struct distance *head=NULL;

struct list *queue_head=NULL;

struct list *source=NULL;

void create_queue(){
    for(int i=0; i<n; i++){
        struct list *temp = (struct list*)malloc(sizeof(struct list));
        temp->vertex=G->adj[i].vertex;
        temp->d=20000;
        temp->pi=NULL;
        temp->next=NULL;
        if(queue_head==NULL)
        queue_head=temp;
        else{
            struct list *t=queue_head;
            while(t->next!=NULL)
            t=t->next;
            t->next=temp;
        }
    }
}

int unique_name(char *ch){
    int temp;
    struct node *t=start;
    if(start==NULL)
    return 0;
    else{
        while(t!=NULL){
            temp=strcmp(t->ch,ch);
            if(temp==0)
            return 1;
            t=t->next;
        }
    }
    return 0;
}

int unique_code(int code){
    struct node *t=start;
    if(start==NULL)
    return 0;
    else{
        while(t!=NULL){
            if(t->code==code)
            return 1;
            t=t->next;
        }
    }
    return 0;
}

void insert(){
    struct node *t=(struct node*)malloc(sizeof(struct node));
    printf("Enter place name = ");
    scanf("%s",t->ch);
     while(unique_name(t->ch)){
        printf("This place name is already used.\n");
        printf("Please enter different name = ");
        scanf("%s",t->ch);
    }
    printf("Enter a unique code for this place = ");
    scanf("%d",&t->code);
     
    while(unique_code(t->code)){
         printf("This code is already used.\n");
         printf("Please enter a unique code = ");
         scanf("%d",&t->code);
    }
    t->next=NULL;
    if(start==NULL)
    start=t;
    else{
        struct node *temp=start;
        while(temp->next!=NULL){
            temp=temp->next;
        }
        temp->next=t;
    }
}


int find_code(char *ch){
    struct node *temp=start;
    while(temp!=NULL){
        if(!strcmp(ch,temp->ch)){
            return(temp->code);
        }
        temp=temp->next;
    }
    return(-1);
}

int find_weight(struct list *ptr1, struct list *ptr2){
    struct distance *temp=head;
     
    while(temp!=NULL){
        if((ptr1->vertex==find_code(temp->ch1)&&ptr2->vertex==find_code(temp->ch2))||(ptr2->vertex==find_code(temp->ch1)&&ptr1->vertex==find_code(temp->ch2)))
        return(temp->d);
        temp=temp->next;
    }
}
